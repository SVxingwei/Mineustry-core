# 核心方块模组 - 快速开始

## 🚀 5分钟快速上手

### 第一步：构建模组

```bash
cd /workspace
./gradlew build
```

生成的JAR文件位于：`build/libs/coremod-1.0.0.jar`

### 第二步：安装模组

1. 将JAR文件复制到Minecraft的`mods`文件夹
2. 确保已安装Forge 1.20.1 (47.2.0或更高)
3. 启动游戏

### 第三步：开始使用

#### 合成核心方块

```
D E D
E C E
D E D

D = 钻石
E = 末影珍珠
C = 箱子
```

#### 放置核心

1. 找一个2x2的空间（垂直方向）
2. 放置核心方块
3. 自动生成2x2结构

#### 打开GUI

- 右键点击核心方块
- 看到合成界面

#### 存储物品

**方法1：手动存入**
- 在合成界面放入物品
- 物品会自动进入存储

**方法2：自动插入**
- 使用漏斗对准核心
- 物品自动存入

**方法3：管道插入**
- 连接任何支持IItemHandler的管道
- 自动存入物品

#### 查看存储

1. 点击GUI上的"浏览"按钮
2. 看到所有存储的物品
3. 使用鼠标滚轮滚动

#### 提取物品

在浏览模式下：
- **左键点击**：提取64个（一组）
- **Shift+左键**：提取全部
- **右键点击**：提取1个

#### 配置核心

1. 点击GUI右上角的⚙按钮
2. 设置选项：
   - **核心ID**：标识符（相同ID共享存储）
   - **公共核心**：是否多人共享
   - **允许其他玩家**：访问权限
   - **烧毁溢出物品**：容量减少时的处理

---

## 💡 实用技巧

### 技巧1：扩展容量

放置更多相同ID的核心：
```
1个核心 = 8,000 容量
2个核心 = 16,000 容量
3个核心 = 24,000 容量
N个核心 = N × 8,000 容量
```

### 技巧2：分类存储

使用不同的核心ID分类：
```
核心A (ID="矿物") → 存储矿物
核心B (ID="食物") → 存储食物
核心C (ID="工具") → 存储工具
```

### 技巧3：团队协作

```
设置：
- 核心ID: "team_base"
- 公共核心: ✓
- 允许其他玩家: ✓

结果：所有团队成员共享存储
```

### 技巧4：私有存储

```
设置：
- 核心ID: "my_storage"
- 公共核心: ✗
- 允许其他玩家: ✗

结果：只有你能访问
```

### 技巧5：能量输出

```
核心方块 → 能量管道 → 机器

每tick生成100 FE
持续供电，不需要燃料！
```

---

## 🎮 游戏内示例

### 示例1：个人基地

```
1. 合成3个核心方块
2. 全部ID设为"my_base"
3. 设为私有
4. 放置在基地不同位置
5. 总容量：24,000物品
6. 任意核心都能访问所有物品
```

### 示例2：服务器公共仓库

```
1. 放置10个核心
2. ID设为"public_storage"
3. 设为公共
4. 允许所有玩家访问
5. 总容量：80,000物品
6. 所有玩家共享使用
```

### 示例3：自动化工厂

```
[矿石] → [漏斗] → [核心] → [管道] → [机器]
                      ↓
                   [能量输出]
                      ↓
                   [其他机器]
```

---

## 📋 常见问题

### Q: 如何增加容量？
**A:** 放置更多相同ID的核心方块。

### Q: 物品存在哪里？
**A:** 世界数据中，不在方块NBT里，所以破坏方块不会丢失物品。

### Q: 可以跨维度访问吗？
**A:** 当前版本不支持，计划在未来版本添加。

### Q: 如何备份存储？
**A:** 备份世界的`data`文件夹，其中包含核心存储数据。

### Q: 能和AE2一起用吗？
**A:** 可以，但完整集成需要额外配置（v1.2.0计划）。

### Q: 破坏核心会丢物品吗？
**A:** 不会！物品保存在世界数据中，重新放置相同ID的核心即可访问。

### Q: 为什么有些物品无法存入？
**A:** 检查容量是否已满。查看GUI底部的容量显示。

---

## 🎯 进阶使用

### 容量计算公式

```
最大容量 = 核心数量 × 8000
当前使用 = Σ(所有物品的数量)
可用空间 = 最大容量 - 当前使用
```

### 存储ID系统

```
公共核心：
存储ID = 核心ID

私有核心：
存储ID = 核心ID + "_" + 玩家UUID
```

### 多方块结构

```
放置核心时，自动生成：
┌───┬───┐
│ M │ R │  M = 主方块（有方块实体）
├───┼───┤  R = 右上部分
│ L │ B │  L = 左下部分
└───┴───┘  B = 右下部分

破坏任意部分，整个结构被移除
```

---

## 🔧 开发者快速测试

### 测试客户端

```bash
./gradlew runClient
```

### 测试服务器

```bash
./gradlew runServer
```

### 重新生成纹理

```bash
python3 generate_textures.py
```

### 查看日志

```bash
tail -f run/logs/latest.log
```

---

## 📊 性能数据

| 操作 | 复杂度 |
|------|--------|
| 插入物品 | O(1) |
| 提取物品 | O(1) |
| 查找物品 | O(1) |
| 获取所有物品 | O(n) |
| 保存数据 | O(n) |

**n** = 不同种类物品的数量

---

## 🎓 学习路径

### 初学者
1. 学习如何合成核心
2. 学习基础存储和提取
3. 了解容量系统

### 中级用户
1. 使用多个核心扩容
2. 设置不同的核心ID分类
3. 配置权限和访问控制

### 高级用户
1. 集成自动化系统
2. 优化能量输出利用
3. 设计复杂的存储网络

---

## 🌟 最佳实践

1. **命名规范**
   - 使用有意义的核心ID
   - 例如："ores", "food", "tools"

2. **容量规划**
   - 提前规划需要多少核心
   - 留有扩展空间

3. **权限管理**
   - 重要物品使用私有核心
   - 公共物品使用公共核心

4. **备份策略**
   - 定期备份世界数据
   - 特别是`data/coremod_storage.dat`

5. **性能优化**
   - 避免单个核心存储过多种类物品
   - 使用多个核心分类存储

---

**享受游戏！** 🎮

如有问题，请查看完整文档：
- README.md - 完整说明
- FEATURES.md - 功能详解
- DEVELOPMENT.md - 开发指南
